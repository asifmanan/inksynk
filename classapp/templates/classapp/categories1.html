{% extends 'classapp/categories_base.html' %}
{% load cmsClassTags %}
{% block windowtitle %}
Categories
{% endblock windowtitle %}

  {% block apptitle %}
    Categories
  {% endblock apptitle %}

  {% block appview %}

  {% if category_list %}
  <table class="w-full text-sm text-left text-gray-500">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
      <tr>
        <th scope="col" class="py-3 px-6">Title</th>
        <th scope="col" class="py-3 px-6">Parent</th>
        <th scope="col" class="py-3 px-6">Description</th>
        <th scope="col" class="py-3 px-6">My Contribution</th>
        <th scope="col" class="py-3 px-6">Created by</th>
      </tr>
    </thead>
    <tbody class="">
      {% for category in category_list %}
      <tr class="bg-white border-b">
        <th scope="row" class="py-4 px-6 font-medium text-gray-900">
          {{category.title}}</th>
        <td class="py-4 px-6">
          {% if category.parentlist %}
          {{category.parentlist}}
          {% else %}
          Root
          {% endif %}
        </td>
        <td class="py-4 px-6">{{category.description}}</td>
        <td class="py-4 px-6">
          {% with postcount=category.postcategory|catUserPostCount:user %}
            {{ postcount }} post{{ postcount|pluralize }}
          {% endwith %} 
        </td>
        <td class="py-4 px-6">{{category.author}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="text-center my-12">
    <p class="text-2xl">Whoops! You don't have any Categories!</p>
    <p class="">Your categories will appear here once you create them</p>
  </div>
  {% endif %}
  
  {% endblock appview %}