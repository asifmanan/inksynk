{% extends 'postapp/post_base.html' %}
{% load static %}

{% block windowtitle %}
Draft Posts
{% endblock windowtitle %}

  {% block apptitle %}
  Draft Posts
  {% endblock apptitle %}

  {% block appview %}
  <div class="overflow-x-auto relative border border-stone-200">
    {% if post_list %}
    <table class="w-full text-sm text-left text-gray-500">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50">
        <tr>
          <th scope="col" class="py-3 px-6 min-w-[200px]">Title</th>
          <th scope="col" class="py-3 px-6 min-w-[272px]">Created</th>
          <th scope="col" class="py-3 px-6 min-w-[150px]">Updated</th>
          <th scope="col" class="py-3 px-6 min-w-[154px]">Action</th>
        </tr>
      </thead>
      <tbody class="">
        {% for post in post_list %}
        <tr class="bg-white border-b">
          <th scope="row" class="py-4 px-6 font-medium text-gray-900">
            {% if post.title %}{{post.title}}
            {% else %}<i>No Title</i>{% endif %}  
          </th>
          <td class="py-4 px-6">{{post.created_on}}</td>
          <td class="py-4 px-6">{{post.updated_on}}</td>
          <td class="py-4 px-6">
            <a class="text-green-700 hover:underline" href={% url 'postapp:editpost' post.pk %}>Edit</a> | 
            <a class="text-red-700 hover:underline inline" href={% url 'postapp:deletepost' post.pk %}>Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <div class="text-center my-12">
      <h2 class="text-2xl">No Drafts</h2>
      <p class="">Your drafts will appear here once you start writing</p>
    </div>
    {% endif %}
  </div>
  {% endblock appview %}